{%- extends "base.html" -%}

{% block title %}Catchup{% endblock %}

{% block header_h1 %}
<div class="header-breadcrumbs">
  <a href="{{ url_for('.home') }}"><img src="{{ url_for('static', filename='images/arxiv-logo-one-color-white.svg') }}" alt="arxiv logo" style="height:40px;"/></a> <span>&gt;</span>
</div>
{% endblock %}

{%- block content %}
  Catchup on:
  <form action="{{ url_for('.catchup_form') }}" method="get" onsubmit="combineDate()">
    Subject:
    <select name="subject">
      <option value="math">math</option>
      <option value="math.NA">math.NA</option>
      <option value="grp_physics">grp_physics</option>
    </select>

    Changes since:

    <select id="day">
      {% for day in days %}
          <option value="{{ day }}">{{ day }}</option>
      {% endfor %}
    </select>
    <select id="month">
        {% for val, name in months %}
            <option value="{{ val }}">{{ name }}</option>
        {% endfor %}
    </select>
    <select id="year">
        {% for year in years %}
            <option value="{{ year }}">{{ year }}</option>
        {% endfor %}
    </select>
    <input type="hidden" id="date" name="date" />
    
    , view results 
    <select name="include_abs">
      <option value="True">with</option>
      <option value="False" selected>without</option>
    </select>
     abstracts

    <input type="submit" value="Go"/>
  </form>

  <script>
    function combineDate() {
        var day = document.getElementById('day').value.padStart(2, '0'); 
        var month = document.getElementById('month').value.padStart(2, '0'); 
        var year = document.getElementById('year').value;
        var combinedDate = `${year}-${month}-${day}`;
        
        document.getElementById('date').value = combinedDate;
    }
</script>

{%- endblock %}
